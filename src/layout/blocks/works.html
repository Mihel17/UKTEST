<section class="works" id="section-works">
  <h1 class="visually-hidden">Main site title</h1>
  <div class="works__container container">

    <h2 class="main-title">Our works</h2>

    <div class="works__nav-btns  section-nav__btns">
      <input class="visually-hidden" type="radio" name="works__nav-btn" id="works__nav-btn--1" checked>
      <label class="works__nav-btn  section-nav__btn" data-category="hairstyle"
        for="works__nav-btn--1">hairstyle</label>
      <input class="visually-hidden" type="radio" name="works__nav-btn" id="works__nav-btn--2">
      <label class="works__nav-btn  section-nav__btn" data-category="beardstyle"
        for="works__nav-btn--2">beardstyle</label>
    </div>

    <div class="works__wrapper">
    </div>

    <template class="works__template--1">
      <div class="works__ajax">
        <?php $posts = get_posts ("category=1&orderby=date&numberposts=12"); ?>
        <?php if ($posts) : ?>
        <?php foreach ($posts as $post) : setup_postdata ($post); ?>

        <?php get_template_part( 'template-parts/post-card/standard' ); ?>

        <?php endforeach; ?>
        <?php endif; ?>
      </div>
    </template>

    <template class="works__template--2">
      <div class="works__ajax">
        <?php $posts = get_posts ("category=81&orderby=date&numberposts=12"); ?>
        <?php if ($posts) : ?>
        <?php foreach ($posts as $post) : setup_postdata ($post); ?>

        <?php get_template_part( 'template-parts/post-card/standard' ); ?>

        <?php endforeach; ?>
        <?php endif; ?>
      </div>
    </template>

    <script>
      const sectionWorks = document.querySelector('#section-works');
      const sectionWorksWrapper = sectionWorks.querySelector('.works__wrapper');
      const worksNavBtns = sectionWorks.querySelector('.works__nav-btns');


      const makeAjaxRequest = (template) => {
        const ajaxRequestTemplate = sectionWorks.querySelector(template)
          .content
          .querySelector('.works__ajax');
        const ajaxRequest = ajaxRequestTemplate.cloneNode(true);
        sectionWorksWrapper.innerHTML = '';
        sectionWorksWrapper.appendChild(ajaxRequest);
      }
      makeAjaxRequest('.works__template--1')

      const getCategoryOnClick = (evt) => {
        const postCategory = evt.target.dataset.category;
        if (postCategory === 'hairstyle') {
          makeAjaxRequest('.works__template--1')
        } else if (postCategory === 'beardstyle') {
          makeAjaxRequest('.works__template--2')
        }
      }
      worksNavBtns.addEventListener('click', getCategoryOnClick)
    </script>

  </div>
</section>
